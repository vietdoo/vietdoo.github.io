(this["webpackJsonpai-former"]=this["webpackJsonpai-former"]||[]).push([[0],{312:function(n,e,t){},314:function(n,e,t){},319:function(n,e){},320:function(n,e){},328:function(n,e){},331:function(n,e){},332:function(n,e){},335:function(n,e,t){"use strict";t.r(e);var r=t(101),c=t.n(r),a=t(254),i=t.n(a),u=(t(312),t(4)),o=t.n(u),s=t(11),f=(t(314),t(334),t(306)),d=t(307),l=(t.p,t(198),t(68)),p={0:"OK",1:"Wear Mask Now !!!"};var b=function(){var n=Object(r.useRef)(),e=Object(r.useRef)(),t=Object(r.useRef)(),c=function(){var n=Object(s.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("init...s"),n.next=3,a();case 3:return console.log("setup camera sucessfully"),e.current=d.a(),n.next=7,f.a();case 7:t.current=n.sent,console.log("Setup done");case 9:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a=function(){return new Promise((function(e,t){navigator.getUserMedia=navigator.getUserMedia,navigator.getUserMedia?navigator.getUserMedia({video:!0},(function(t){n.current.srcObject=t,n.current.addEventListener("loadeddata",e)}),(function(n){return t(n)})):t()}))},i=function(n){document.getElementById("nr").innerHTML=n+"%"},u=function(){var n=Object(s.a)(o.a.mark((function n(e){var t,r;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:document.getElementById("nt").innerHTML="In process",console.log("Training: ",e),t=0;case 3:if(!(t<150)){n.next=12;break}return r=parseInt((t+1)/150*100),console.log("Rate: ",r,"%"),i(r),n.next=9,b(e);case 9:t++,n.next=3;break;case 12:document.getElementById("nt").innerHTML="Completed",document.getElementById("nr").innerHTML="";case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),b=function(r){return new Promise(function(){var c=Object(s.a)(o.a.mark((function c(a){var i;return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return i=t.current.infer(n.current,!0),e.current.addExample(i,r),c.next=4,v(100);case 4:a();case 5:case"end":return c.stop()}}),c)})));return function(n){return c.apply(this,arguments)}}())},m=function(){var r=Object(s.a)(o.a.mark((function r(){var c,a;return o.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=t.current.infer(n.current,!0),r.next=3,e.current.predictClass(c);case 3:return a=r.sent,document.getElementById("nr").innerHTML=p[a.label],r.next=7,v(1e3);case 7:m();case 8:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),j=function(){var n=Object(s.a)(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:document.getElementById("nt").innerHTML="[Status]",m();case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),v=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(e){return setTimeout(e,n)}))};return Object(r.useEffect)((function(){return c(),function(){}}),[]),Object(l.jsxs)("div",{className:"main",children:[Object(l.jsx)("video",{ref:n,class:"video",autoPlay:!0}),Object(l.jsxs)("div",{className:"nofis",children:[Object(l.jsx)("div",{id:"nt"}),Object(l.jsx)("div",{id:"nr"})]}),Object(l.jsxs)("div",{className:"control",children:[Object(l.jsx)("button",{className:"btn",id:"b1",onClick:function(){return u("0")},children:"Train 1"}),Object(l.jsx)("button",{className:"btn",id:"b2",onClick:function(){return u("1")},children:"Train 2"}),Object(l.jsx)("button",{className:"btn",id:"br",onClick:function(){return j()},children:"Run AI Prediction"})]})]})},m=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,336)).then((function(e){var t=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;t(n),r(n),c(n),a(n),i(n)}))};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(b,{})}),document.getElementById("root")),m()}},[[335,1,2]]]);
//# sourceMappingURL=main.1e68240e.chunk.js.map